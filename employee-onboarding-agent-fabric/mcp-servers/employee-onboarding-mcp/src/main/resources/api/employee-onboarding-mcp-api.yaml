#%RAML 1.0
title: Employee Onboarding MCP Server API
version: v1.0.1
baseUri: https://employee-onboarding-mcp.cloudhub.io/api
description: |
  The Employee Onboarding MCP (Model Context Protocol) Server provides comprehensive employee lifecycle management capabilities for HR and onboarding processes. This API enables automated employee record creation, status tracking, and onboarding workflow management.

  Key Features:
  - Complete employee lifecycle management
  - Automated onboarding workflow orchestration
  - Multi-database support with intelligent fallback
  - Real-time employee status tracking
  - Paginated employee listings with filtering
  - Comprehensive health monitoring and reporting
  - RESTful API design with JSON responses

mediaType: application/json

documentation:
  - title: Getting Started
    content: |
      ## Authentication
      This API uses standard authentication mechanisms depending on deployment environment.
      
      ## Base URL
      - Development: http://localhost:8081
      - Production: https://employee-onboarding-mcp.cloudhub.io
      
      ## Rate Limiting  
      Standard rate limiting applies: 1000 requests per hour per client.

types:
  Employee:
    type: object
    properties:
      id?: integer
      employee_id: string
      first_name: string
      last_name: string
      email: string
      phone?: string
      department_id?: integer
      position?: string
      hire_date?: date
      status?: string
      salary?: number
      address?: string
      emergency_contact_name?: string
      emergency_contact_phone?: string
      created_at?: datetime
      updated_at?: datetime
    example:
      employee_id: "EMP001"
      first_name: "John"
      last_name: "Doe"
      email: "john.doe@company.com"
      phone: "+1-555-0101"
      department_id: 2
      position: "Software Engineer"
      hire_date: "2024-01-15"
      status: "ACTIVE"
      salary: 75000.00
      address: "123 Main St, City, State 12345"

  CreateEmployeeRequest:
    type: object
    properties:
      employeeId?: string
      firstName: string
      lastName: string
      email: string
      phone?: string
      departmentId?: integer
      position?: string
      hireDate?: date
      salary?: number
      address?: string
    example:
      employeeId: "EMP001"
      firstName: "John"
      lastName: "Doe"
      email: "john.doe@company.com"
      phone: "+1-555-0101"
      position: "Software Engineer"
      salary: 75000.00

  CreateEmployeeResponse:
    type: object
    properties:
      success: boolean
      message: string
      employeeId: string
      environment: string
      database: string
      timestamp: datetime
      mockMode: boolean
    example:
      success: true
      message: "Employee created successfully"
      employeeId: "EMP001"
      environment: "development"
      database: "h2"
      timestamp: "2024-01-15T10:30:00Z"
      mockMode: false

  EmployeeListResponse:
    type: object
    properties:
      success: boolean
      data: Employee[]
      pagination: object
      filters: object
      environment: string
      database: string
      timestamp: datetime
      mockMode: boolean
    example:
      success: true
      data:
        - employee_id: "EMP001"
          first_name: "John"
          last_name: "Doe"
          email: "john.doe@company.com"
          status: "ACTIVE"
      pagination:
        page: 1
        size: 10
        totalResults: 50
        hasMore: true
      database: "h2"
      mockMode: false

  StatusUpdateResponse:
    type: object
    properties:
      success: boolean
      message: string
      employeeId: string
      status: string
      affectedRows: integer
      database: string
      timestamp: datetime
      mockMode: boolean
    example:
      success: true
      message: "Employee status updated successfully"
      employeeId: "EMP001"
      status: "ACTIVE"
      affectedRows: 1
      database: "h2"
      timestamp: "2024-01-15T10:30:00Z"
      mockMode: false

  HealthStatus:
    type: object
    properties:
      status: string
      service: string
      version: string
      timestamp: datetime
      environment: string
      checks: object[]
      uptime: number
      features: object
    example:
      status: "HEALTHY"
      service: "Employee Onboarding MCP Server"
      version: "1.0.1"
      timestamp: "2024-01-15T10:30:00Z"
      environment: "development"
      uptime: 3600
      features:
        mockMode: false
        databaseRequired: true
        auditEnabled: true

/health:
  displayName: Health Check
  description: Returns the current health status of the Employee Onboarding MCP Server
  get:
    description: Get comprehensive health status including database connectivity, application state, and configuration details
    responses:
      200:
        description: Service is healthy
        body:
          type: HealthStatus
      503:
        description: Service is degraded or unhealthy
        body:
          type: object
          properties:
            status: string
            message: string
          example:
            status: "DEGRADED"
            message: "Database connection failed"

/mcp:
  /info:
    displayName: MCP Server Information
    description: Returns detailed information about the MCP server capabilities and available tools
    get:
      description: Get MCP server metadata, capabilities, and tool definitions
      responses:
        200:
          description: MCP server information
          body:
            type: object
            properties:
              name: string
              version: string
              description: string
              baseUrl: string
              environment: string
              capabilities: object
              endpoints: object
              tools: object[]

  /tools:
    displayName: MCP Tools
    description: Employee onboarding and management tools
    
    /create-employee:
      displayName: Create Employee
      description: Create a new employee record in the system
      post:
        description: |
          Creates a new employee record with the provided information. The system will:
          1. Generate a unique employee ID if not provided
          2. Validate email uniqueness
          3. Set default status to 'PENDING'
          4. Create employee record in the database
          5. Return employee creation confirmation
        body:
          type: CreateEmployeeRequest
        responses:
          200:
            description: Employee created successfully
            body:
              type: CreateEmployeeResponse
          400:
            description: Invalid request parameters
            body:
              type: object
              properties:
                success: boolean
                error: string
                message: string
              example:
                success: false
                error: "VALIDATION_ERROR"
                message: "Email address is required"
          409:
            description: Employee already exists
            body:
              type: object
              properties:
                success: boolean
                error: string
                message: string
                existingEmployeeId: string

    /get-employee/{empId}:
      displayName: Get Employee
      description: Retrieve employee information by employee ID
      uriParameters:
        empId:
          type: string
          description: The unique employee identifier
          example: "EMP001"
      get:
        description: |
          Retrieves complete employee information including:
          - Personal details
          - Employment information
          - Current status
          - Department assignment
          - Contact information
        responses:
          200:
            description: Employee found and retrieved successfully
            body:
              type: Employee
          404:
            description: Employee not found
            body:
              type: object
              properties:
                success: boolean
                error: string
                message: string
                employeeId: string
              example:
                success: false
                error: "EMPLOYEE_NOT_FOUND"
                message: "Employee not found: EMP001"
                employeeId: "EMP001"

    /list-employees:
      displayName: List Employees
      description: Retrieve a paginated list of employees with optional filtering
      get:
        description: |
          Returns a paginated list of employees with support for:
          - Status filtering (PENDING, ACTIVE, INACTIVE, TERMINATED)
          - Department filtering
          - Pagination controls
          - Sorting by hire date
        queryParameters:
          page?:
            type: integer
            minimum: 1
            default: 1
            description: Page number for pagination
          size?:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
            description: Number of employees per page
          status?:
            type: string
            enum: [PENDING, ACTIVE, INACTIVE, TERMINATED]
            description: Filter employees by status
          department?:
            type: string
            description: Filter employees by department name
        responses:
          200:
            description: Employees retrieved successfully
            body:
              type: EmployeeListResponse
          400:
            description: Invalid query parameters
            body:
              type: object
              properties:
                success: boolean
                error: string
                message: string

    /update-employee-status/{empId}/{status}:
      displayName: Update Employee Status
      description: Update the onboarding/employment status of an employee
      uriParameters:
        empId:
          type: string
          description: The unique employee identifier
          example: "EMP001"
        status:
          type: string
          enum: [PENDING, ACTIVE, INACTIVE, TERMINATED]
          description: New status for the employee
          example: "ACTIVE"
      put:
        description: |
          Updates employee status with validation:
          1. Validates employee exists
          2. Validates status is allowed value
          3. Updates employee record
          4. Records status change timestamp
          5. Returns update confirmation
        responses:
          200:
            description: Employee status updated successfully
            body:
              type: StatusUpdateResponse
          400:
            description: Invalid status or parameters
            body:
              type: object
              properties:
                success: boolean
                error: string
                message: string
                provided: string
              example:
                success: false
                error: "INVALID_STATUS"
                message: "Status must be one of: PENDING, ACTIVE, INACTIVE, TERMINATED"
                provided: "INVALID_STATUS"
          404:
            description: Employee not found
            body:
              type: object
              properties:
                success: boolean
                error: string
                message: string
                employeeId: string

traits:
  paginated:
    queryParameters:
      page?:
        type: integer
        minimum: 1
        default: 1
        description: Page number
      size?:
        type: integer
        minimum: 1
        maximum: 100
        default: 10
        description: Items per page

  errorResponses:
    responses:
      400:
        description: Bad Request
        body:
          type: object
          properties:
            success: boolean
            error: string
            message: string
      500:
        description: Internal Server Error
        body:
          type: object
          properties:
            success: boolean
            error: string
            message: string
            database: string
            timestamp: datetime
