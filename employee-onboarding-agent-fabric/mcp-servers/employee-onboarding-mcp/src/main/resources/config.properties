# ==================================================================
# EMPLOYEE ONBOARDING MCP SERVER CONFIGURATION
# ==================================================================

# HTTP Listener Configuration
http.host=0.0.0.0
http.port=8081

# ==================================================================
# EMPLOYEE ONBOARDING MCP SERVER CONFIGURATION
# ==================================================================

# Environment Configuration (development/local = PostgreSQL, cloud/sandbox = H2)
env=${env:development}

# ==================================================================
# DATABASE CONFIGURATION - ENVIRONMENT AWARE
# ==================================================================

# PostgreSQL Configuration (Local Development)
db.postgres.url=jdbc:postgresql://localhost:5432/mcp_employees
db.postgres.username=postgres
db.postgres.password=postgres123
db.postgres.driverClassName=org.postgresql.Driver

# H2 In-Memory Configuration (Cloud/Testing)
db.h2.url=jdbc:h2:mem:mcp_employees;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL;INIT=CREATE SCHEMA IF NOT EXISTS public
db.h2.username=sa
db.h2.password=
db.h2.driverClassName=org.h2.Driver

# Active Database Configuration (dynamically selected based on environment)
db.active.url=${db.postgres.url}
db.active.username=${db.postgres.username}
db.active.password=${db.postgres.password}
db.active.driverClassName=${db.postgres.driverClassName}
db.active=postgresql

# Cloud Environment Database Override (H2 for CloudHub)
# When env=sandbox or env=production, these will override the active settings
db.active.url.cloud=jdbc:h2:mem:mcp_employees;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL;INIT=CREATE SCHEMA IF NOT EXISTS public\\;CREATE TABLE IF NOT EXISTS employees (id BIGINT AUTO_INCREMENT PRIMARY KEY, employee_id VARCHAR(50) UNIQUE, first_name VARCHAR(100), last_name VARCHAR(100), email VARCHAR(255) UNIQUE, phone VARCHAR(20), department_id VARCHAR(50), position VARCHAR(100), hire_date DATE, status VARCHAR(20) DEFAULT 'PENDING', salary DECIMAL(10,2), address TEXT, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP)
db.active.username.cloud=sa
db.active.password.cloud=
db.active.driverClassName.cloud=org.h2.Driver

# ==================================================================
# MCP SERVER METADATA CONFIGURATION
# ==================================================================
mcp.serverName=Employee Onboarding MCP Server
mcp.serverVersion=1.0.3
mcp.serverDescription=Employee Management MCP Server for Employee Onboarding Process
mcp.serverBaseUrl=${mcp.serverBaseUrl:http://localhost:8081}
mcp.centralized.enabled=true

# ==================================================================
# ENVIRONMENT & CLOUDHUB CONFIGURATION
# ==================================================================
# CloudHub Deployment Properties
cloudhub.worker.type=${cloudhub.worker.type:MICRO}
cloudhub.region=${cloudhub.region:us-east-1}
cloudhub.workers=${cloudhub.workers:1}
cloudhub.environment=${cloudhub.environment:Sandbox}

# Application Startup Configuration
app.startup.database.init=true
app.startup.create.tables=true

# ==================================================================
# LOGGING CONFIGURATION
# ==================================================================
logging.level.root=${logging.level.root:INFO}
logging.level.com.mulesoft.mcp=${logging.level.mcp:DEBUG}

# ==================================================================
# ANYPOINT PLATFORM AUTHENTICATION
# ==================================================================
# Connected App Credentials (for deployment authentication - loaded from .env)
connected.app.client.id=${env:CONNECTED_APP_CLIENT_ID}
connected.app.client.secret=${secure::connected.app.client.secret}

# ==================================================================
# FLYWAY DATABASE MIGRATION
# ==================================================================
flyway.enabled=true
flyway.locations=classpath:db/migration

env=Sandbox

mcp.serverBaseUrl= http://localhost:8081
